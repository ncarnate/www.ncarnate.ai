/*!
 * ScrollToPlugin 3.12.4
 * https://gsap.com
 *
 * @license Copyright 2008-2023, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/let gsap,_coreInitted,_window,_docEl,_body,_toArray,_config,ScrollTrigger,_windowExists=()=>typeof window!="undefined",_getGSAP=()=>gsap||_windowExists()&&(gsap=window.gsap)&&gsap.registerPlugin&&gsap,_isString=value=>typeof value=="string",_isFunction=value=>typeof value=="function",_max=(element,axis)=>{let dim=axis==="x"?"Width":"Height",scroll="scroll"+dim,client="client"+dim;return element===_window||element===_docEl||element===_body?Math.max(_docEl[scroll],_body[scroll])-(_window["inner"+dim]||_docEl[client]||_body[client]):element[scroll]-element["offset"+dim]},_buildGetter=(e,axis)=>{let p="scroll"+(axis==="x"?"Left":"Top");return e===_window&&(e.pageXOffset!=null?p="page"+axis.toUpperCase()+"Offset":e=_docEl[p]!=null?_docEl:_body),()=>e[p]},_clean=(value,index,target,targets)=>{if(_isFunction(value)&&(value=value(index,target,targets)),typeof value!="object")return _isString(value)&&value!=="max"&&value.charAt(1)!=="="?{x:value,y:value}:{y:value};if(value.nodeType)return{y:value,x:value};let result={},p;for(p in value)result[p]=p!=="onAutoKill"&&_isFunction(value[p])?value[p](index,target,targets):value[p];return result},_getOffset=(element,container)=>{if(element=_toArray(element)[0],!element||!element.getBoundingClientRect)return console.warn("scrollTo target doesn't exist. Using 0")||{x:0,y:0};let rect=element.getBoundingClientRect(),isRoot=!container||container===_window||container===_body,cRect=isRoot?{top:_docEl.clientTop-(_window.pageYOffset||_docEl.scrollTop||_body.scrollTop||0),left:_docEl.clientLeft-(_window.pageXOffset||_docEl.scrollLeft||_body.scrollLeft||0)}:container.getBoundingClientRect(),offsets={x:rect.left-cRect.left,y:rect.top-cRect.top};return!isRoot&&container&&(offsets.x+=_buildGetter(container,"x")(),offsets.y+=_buildGetter(container,"y")()),offsets},_parseVal=(value,target,axis,currentVal,offset)=>!isNaN(value)&&typeof value!="object"?parseFloat(value)-offset:_isString(value)&&value.charAt(1)==="="?parseFloat(value.substr(2))*(value.charAt(0)==="-"?-1:1)+currentVal-offset:value==="max"?_max(target,axis)-offset:Math.min(_max(target,axis),_getOffset(value,target)[axis]-offset),_initCore=()=>{gsap=_getGSAP(),_windowExists()&&gsap&&typeof document!="undefined"&&document.body&&(_window=window,_body=document.body,_docEl=document.documentElement,_toArray=gsap.utils.toArray,gsap.config({autoKillThreshold:7}),_config=gsap.config(),_coreInitted=1)};export const ScrollToPlugin={version:"3.12.4",name:"scrollTo",rawVars:1,register(core){gsap=core,_initCore()},init(target,value,tween,index,targets){_coreInitted||_initCore();let data=this,snapType=gsap.getProperty(target,"scrollSnapType");data.isWin=target===_window,data.target=target,data.tween=tween,value=_clean(value,index,target,targets),data.vars=value,data.autoKill=!!value.autoKill,data.getX=_buildGetter(target,"x"),data.getY=_buildGetter(target,"y"),data.x=data.xPrev=data.getX(),data.y=data.yPrev=data.getY(),ScrollTrigger||(ScrollTrigger=gsap.core.globals().ScrollTrigger),gsap.getProperty(target,"scrollBehavior")==="smooth"&&gsap.set(target,{scrollBehavior:"auto"}),snapType&&snapType!=="none"&&(data.snap=1,data.snapInline=target.style.scrollSnapType,target.style.scrollSnapType="none"),value.x!=null?(data.add(data,"x",data.x,_parseVal(value.x,target,"x",data.x,value.offsetX||0),index,targets),data._props.push("scrollTo_x")):data.skipX=1,value.y!=null?(data.add(data,"y",data.y,_parseVal(value.y,target,"y",data.y,value.offsetY||0),index,targets),data._props.push("scrollTo_y")):data.skipY=1},render(ratio,data){let pt=data._pt,{target,tween,autoKill,xPrev,yPrev,isWin,snap,snapInline}=data,x,y,yDif,xDif,threshold;for(;pt;)pt.r(ratio,pt.d),pt=pt._next;x=isWin||!data.skipX?data.getX():xPrev,y=isWin||!data.skipY?data.getY():yPrev,yDif=y-yPrev,xDif=x-xPrev,threshold=_config.autoKillThreshold,data.x<0&&(data.x=0),data.y<0&&(data.y=0),autoKill&&(!data.skipX&&(xDif>threshold||xDif<-threshold)&&x<_max(target,"x")&&(data.skipX=1),!data.skipY&&(yDif>threshold||yDif<-threshold)&&y<_max(target,"y")&&(data.skipY=1),data.skipX&&data.skipY&&(tween.kill(),data.vars.onAutoKill&&data.vars.onAutoKill.apply(tween,data.vars.onAutoKillParams||[]))),isWin?_window.scrollTo(!data.skipX?data.x:x,!data.skipY?data.y:y):(data.skipY||(target.scrollTop=data.y),data.skipX||(target.scrollLeft=data.x)),snap&&(ratio===1||ratio===0)&&(y=target.scrollTop,x=target.scrollLeft,snapInline?target.style.scrollSnapType=snapInline:target.style.removeProperty("scroll-snap-type"),target.scrollTop=y+1,target.scrollLeft=x+1,target.scrollTop=y,target.scrollLeft=x),data.xPrev=data.x,data.yPrev=data.y,ScrollTrigger&&ScrollTrigger.update()},kill(property){let both=property==="scrollTo",i=this._props.indexOf(property);return(both||property==="scrollTo_x")&&(this.skipX=1),(both||property==="scrollTo_y")&&(this.skipY=1),i>-1&&this._props.splice(i,1),!this._props.length}};ScrollToPlugin.max=_max,ScrollToPlugin.getOffset=_getOffset,ScrollToPlugin.buildGetter=_buildGetter,_getGSAP()&&gsap.registerPlugin(ScrollToPlugin);export{ScrollToPlugin as default}