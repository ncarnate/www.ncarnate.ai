function _assertThisInitialized(self){if(self===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _inheritsLoose(subClass,superClass){/*!
 * Draggable 3.12.4
 * https://gsap.com
 *
 * @license Copyright 2008-2023, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
 */subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass}import{getGlobalMatrix,Matrix2D}from"./utils/matrix.js";var gsap,_win,_doc,_docElement,_body,_tempDiv,_placeholderDiv,_coreInitted,_checkPrefix,_toArray,_supportsPassive,_isTouchDevice,_touchEventLookup,_isMultiTouching,_isAndroid,InertiaPlugin,_defaultCursor,_supportsPointer,_context,_getStyleSaver,_supports3D,_addPaddingBR,_dragCount=0,_windowExists=function(){return typeof window!="undefined"},_getGSAP=function(){return gsap||_windowExists()&&(gsap=window.gsap)&&gsap.registerPlugin&&gsap},_isFunction=function(value){return typeof value=="function"},_isObject=function(value){return typeof value=="object"},_isUndefined=function(value){return typeof value=="undefined"},_emptyFunc=function(){return!1},_transformProp="transform",_transformOriginProp="transformOrigin",_round=function(value){return Math.round(value*1e4)/1e4},_isArray=Array.isArray,_createElement=function(type,ns){var e=_doc.createElementNS?_doc.createElementNS((ns||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),type):_doc.createElement(type);return e.style?e:_doc.createElement(type)},_RAD2DEG=180/Math.PI,_bigNum=1e20,_identityMatrix=new Matrix2D,_getTime=Date.now||function(){return(new Date).getTime()},_renderQueue=[],_lookup={},_lookupCount=0,_clickableTagExp=/^(?:a|input|textarea|button|select)$/i,_lastDragTime=0,_temp1={},_windowProxy={},_copy=function(obj,factor){var p,copy={};for(p in obj)copy[p]=factor?obj[p]*factor:obj[p];return copy},_extend=function(obj,defaults){for(var p in defaults)p in obj||(obj[p]=defaults[p]);return obj},_setTouchActionForAllDescendants=function _setTouchActionForAllDescendants(elements,value){for(var children,i=elements.length;i--;)value?elements[i].style.touchAction=value:elements[i].style.removeProperty("touch-action"),children=elements[i].children,children&&children.length&&_setTouchActionForAllDescendants(children,value)},_renderQueueTick=function(){return _renderQueue.forEach(function(func){return func()})},_addToRenderQueue=function(func){_renderQueue.push(func),_renderQueue.length===1&&gsap.ticker.add(_renderQueueTick)},_renderQueueTimeout=function(){return!_renderQueue.length&&gsap.ticker.remove(_renderQueueTick)},_removeFromRenderQueue=function(func){for(var i=_renderQueue.length;i--;)_renderQueue[i]===func&&_renderQueue.splice(i,1);gsap.to(_renderQueueTimeout,{overwrite:!0,delay:15,duration:0,onComplete:_renderQueueTimeout,data:"_draggable"})},_setDefaults=function(obj,defaults){for(var p in defaults)p in obj||(obj[p]=defaults[p]);return obj},_addListener=function(element,type,func,capture){if(element.addEventListener){var touchType=_touchEventLookup[type];capture=capture||(_supportsPassive?{passive:!1}:null),element.addEventListener(touchType||type,func,capture),touchType&&type!==touchType&&element.addEventListener(type,func,capture)}},_removeListener=function(element,type,func,capture){if(element.removeEventListener){var touchType=_touchEventLookup[type];element.removeEventListener(touchType||type,func,capture),touchType&&type!==touchType&&element.removeEventListener(type,func,capture)}},_preventDefault=function(event){event.preventDefault&&event.preventDefault(),event.preventManipulation&&event.preventManipulation()},_hasTouchID=function(list,ID){for(var i=list.length;i--;)if(list[i].identifier===ID)return!0},_onMultiTouchDocumentEnd=function _onMultiTouchDocumentEnd(event){_isMultiTouching=event.touches&&_dragCount<event.touches.length,_removeListener(event.target,"touchend",_onMultiTouchDocumentEnd)},_onMultiTouchDocument=function(event){_isMultiTouching=event.touches&&_dragCount<event.touches.length,_addListener(event.target,"touchend",_onMultiTouchDocumentEnd)},_getDocScrollTop=function(doc){return _win.pageYOffset||doc.scrollTop||doc.documentElement.scrollTop||doc.body.scrollTop||0},_getDocScrollLeft=function(doc){return _win.pageXOffset||doc.scrollLeft||doc.documentElement.scrollLeft||doc.body.scrollLeft||0},_addScrollListener=function _addScrollListener(e,callback){_addListener(e,"scroll",callback),_isRoot(e.parentNode)||_addScrollListener(e.parentNode,callback)},_removeScrollListener=function _removeScrollListener(e,callback){_removeListener(e,"scroll",callback),_isRoot(e.parentNode)||_removeScrollListener(e.parentNode,callback)},_isRoot=function(e){return!e||e===_docElement||e.nodeType===9||e===_doc.body||e===_win||!e.nodeType||!e.parentNode},_getMaxScroll=function(element,axis){var dim=axis==="x"?"Width":"Height",scroll="scroll"+dim,client="client"+dim;return Math.max(0,_isRoot(element)?Math.max(_docElement[scroll],_body[scroll])-(_win["inner"+dim]||_docElement[client]||_body[client]):element[scroll]-element[client])},_recordMaxScrolls=function _recordMaxScrolls(e,skipCurrent){var x=_getMaxScroll(e,"x"),y=_getMaxScroll(e,"y");_isRoot(e)?e=_windowProxy:_recordMaxScrolls(e.parentNode,skipCurrent),e._gsMaxScrollX=x,e._gsMaxScrollY=y,skipCurrent||(e._gsScrollX=e.scrollLeft||0,e._gsScrollY=e.scrollTop||0)},_setStyle=function(element,property,value){var style=element.style;if(!style)return;_isUndefined(style[property])&&(property=_checkPrefix(property,element)||property),value==null?style.removeProperty&&style.removeProperty(property.replace(/([A-Z])/g,"-$1").toLowerCase()):style[property]=value},_getComputedStyle=function(element){return _win.getComputedStyle(element instanceof Element?element:element.host||(element.parentNode||{}).host||element)},_tempRect={},_parseRect=function(e){if(e===_win)return _tempRect.left=_tempRect.top=0,_tempRect.width=_tempRect.right=_docElement.clientWidth||e.innerWidth||_body.clientWidth||0,_tempRect.height=_tempRect.bottom=(e.innerHeight||0)-20<_docElement.clientHeight?_docElement.clientHeight:e.innerHeight||_body.clientHeight||0,_tempRect;var doc=e.ownerDocument||_doc,r=_isUndefined(e.pageX)?!e.nodeType&&!_isUndefined(e.left)&&!_isUndefined(e.top)?e:_toArray(e)[0].getBoundingClientRect():{left:e.pageX-_getDocScrollLeft(doc),top:e.pageY-_getDocScrollTop(doc),right:e.pageX-_getDocScrollLeft(doc)+1,bottom:e.pageY-_getDocScrollTop(doc)+1};return _isUndefined(r.right)&&!_isUndefined(r.width)?(r.right=r.left+r.width,r.bottom=r.top+r.height):_isUndefined(r.width)&&(r={width:r.right-r.left,height:r.bottom-r.top,right:r.right,left:r.left,bottom:r.bottom,top:r.top}),r},_dispatchEvent=function(target,type,callbackName){var result,vars=target.vars,callback=vars[callbackName],listeners=target._listeners[type];return _isFunction(callback)&&(result=callback.apply(vars.callbackScope||target,vars[callbackName+"Params"]||[target.pointerEvent])),listeners&&target.dispatchEvent(type)===!1&&(result=!1),result},_getBounds=function(target,context){var top,left,offset,e=_toArray(target)[0];return!e.nodeType&&e!==_win?_isUndefined(target.left)?(left=target.min||target.minX||target.minRotation||0,top=target.min||target.minY||0,{left,top,width:(target.max||target.maxX||target.maxRotation||0)-left,height:(target.max||target.maxY||0)-top}):(offset={x:0,y:0},{left:target.left-offset.x,top:target.top-offset.y,width:target.width,height:target.height}):_getElementBounds(e,context)},_point1={},_getElementBounds=function(element,context){context=_toArray(context)[0];var left,right,top,bottom,matrix,p1,p2,p3,p4,bbox,width,height,cs,isSVG=element.getBBox&&element.ownerSVGElement,doc=element.ownerDocument||_doc;if(element===_win)top=_getDocScrollTop(doc),left=_getDocScrollLeft(doc),right=left+(doc.documentElement.clientWidth||element.innerWidth||doc.body.clientWidth||0),bottom=top+((element.innerHeight||0)-20<doc.documentElement.clientHeight?doc.documentElement.clientHeight:element.innerHeight||doc.body.clientHeight||0);else if(context===_win||_isUndefined(context))return element.getBoundingClientRect();else left=top=0,isSVG?(bbox=element.getBBox(),width=bbox.width,height=bbox.height):(element.viewBox&&(bbox=element.viewBox.baseVal)&&(left=bbox.x||0,top=bbox.y||0,width=bbox.width,height=bbox.height),width||(cs=_getComputedStyle(element),bbox=cs.boxSizing==="border-box",width=(parseFloat(cs.width)||element.clientWidth||0)+(bbox?0:parseFloat(cs.borderLeftWidth)+parseFloat(cs.borderRightWidth)),height=(parseFloat(cs.height)||element.clientHeight||0)+(bbox?0:parseFloat(cs.borderTopWidth)+parseFloat(cs.borderBottomWidth)))),right=width,bottom=height;return element===context?{left,top,width:right-left,height:bottom-top}:(matrix=getGlobalMatrix(context,!0).multiply(getGlobalMatrix(element)),p1=matrix.apply({x:left,y:top}),p2=matrix.apply({x:right,y:top}),p3=matrix.apply({x:right,y:bottom}),p4=matrix.apply({x:left,y:bottom}),left=Math.min(p1.x,p2.x,p3.x,p4.x),top=Math.min(p1.y,p2.y,p3.y,p4.y),{left,top,width:Math.max(p1.x,p2.x,p3.x,p4.x)-left,height:Math.max(p1.y,p2.y,p3.y,p4.y)-top})},_parseInertia=function(draggable,snap,max,min,factor,forceZeroVelocity){var i,a,l,vars={};if(snap)if(factor!==1&&snap instanceof Array){if(vars.end=a=[],l=snap.length,_isObject(snap[0]))for(i=0;i<l;i++)a[i]=_copy(snap[i],factor);else for(i=0;i<l;i++)a[i]=snap[i]*factor;max+=1.1,min-=1.1}else _isFunction(snap)?vars.end=function(value){var copy,p,result=snap.call(draggable,value);if(factor!==1)if(_isObject(result)){copy={};for(p in result)copy[p]=result[p]*factor;result=copy}else result*=factor;return result}:vars.end=snap;return(max||max===0)&&(vars.max=max),(min||min===0)&&(vars.min=min),forceZeroVelocity&&(vars.velocity=0),vars},_isClickable=function _isClickable(element){var data;return!(!element||!element.getAttribute||element===_body)&&(!!((data=element.getAttribute("data-clickable"))==="true"||data!=="false"&&(_clickableTagExp.test(element.nodeName+"")||element.getAttribute("contentEditable")==="true"))||_isClickable(element.parentNode))},_setSelectable=function(elements,selectable){for(var e,i=elements.length;i--;)e=elements[i],e.ondragstart=e.onselectstart=selectable?null:_emptyFunc,gsap.set(e,{lazy:!0,userSelect:selectable?"text":"none"})},_isFixed=function _isFixed(element){if(_getComputedStyle(element).position==="fixed")return!0;if(element=element.parentNode,element&&element.nodeType===1)return _isFixed(element)},ScrollProxy=function(element,vars){element=gsap.utils.toArray(element)[0],vars=vars||{};var elementWidth,elementHeight,contentHeight,nextNode,transformStart,transformEnd,content=document.createElement("div"),style=content.style,node=element.firstChild,offsetTop=0,offsetLeft=0,prevTop=element.scrollTop,prevLeft=element.scrollLeft,scrollWidth=element.scrollWidth,scrollHeight=element.scrollHeight,extraPadRight=0,maxLeft=0,maxTop=0;_supports3D&&vars.force3D!==!1?(transformStart="translate3d(",transformEnd="px,0px)"):_transformProp&&(transformStart="translate(",transformEnd="px)"),this.scrollTop=function(value,force){if(!arguments.length)return-this.top();this.top(-value,force)},this.scrollLeft=function(value,force){if(!arguments.length)return-this.left();this.left(-value,force)},this.left=function(value,force){if(!arguments.length)return-(element.scrollLeft+offsetLeft);var dif=element.scrollLeft-prevLeft,oldOffset=offsetLeft;if((dif>2||dif<-2)&&!force){prevLeft=element.scrollLeft,gsap.killTweensOf(this,{left:1,scrollLeft:1}),this.left(-prevLeft),vars.onKill&&vars.onKill();return}value=-value,value<0?(offsetLeft=value-.5|0,value=0):value>maxLeft?(offsetLeft=value-maxLeft|0,value=maxLeft):offsetLeft=0,(offsetLeft||oldOffset)&&(this._skip||(style[_transformProp]=transformStart+-offsetLeft+"px,"+-offsetTop+transformEnd),offsetLeft+extraPadRight>=0&&(style.paddingRight=offsetLeft+extraPadRight+"px")),element.scrollLeft=value|0,prevLeft=element.scrollLeft},this.top=function(value,force){if(!arguments.length)return-(element.scrollTop+offsetTop);var dif=element.scrollTop-prevTop,oldOffset=offsetTop;if((dif>2||dif<-2)&&!force){prevTop=element.scrollTop,gsap.killTweensOf(this,{top:1,scrollTop:1}),this.top(-prevTop),vars.onKill&&vars.onKill();return}value=-value,value<0?(offsetTop=value-.5|0,value=0):value>maxTop?(offsetTop=value-maxTop|0,value=maxTop):offsetTop=0,(offsetTop||oldOffset)&&(this._skip||(style[_transformProp]=transformStart+-offsetLeft+"px,"+-offsetTop+transformEnd)),element.scrollTop=value|0,prevTop=element.scrollTop},this.maxScrollTop=function(){return maxTop},this.maxScrollLeft=function(){return maxLeft},this.disable=function(){for(node=content.firstChild;node;)nextNode=node.nextSibling,element.appendChild(node),node=nextNode;element===content.parentNode&&element.removeChild(content)},this.enable=function(){if(node=element.firstChild,node===content)return;for(;node;)nextNode=node.nextSibling,content.appendChild(node),node=nextNode;element.appendChild(content),this.calibrate()},this.calibrate=function(force){var cs,y,x,widthMatches=element.clientWidth===elementWidth;if(prevTop=element.scrollTop,prevLeft=element.scrollLeft,widthMatches&&element.clientHeight===elementHeight&&content.offsetHeight===contentHeight&&scrollWidth===element.scrollWidth&&scrollHeight===element.scrollHeight&&!force)return;(offsetTop||offsetLeft)&&(x=this.left(),y=this.top(),this.left(-element.scrollLeft),this.top(-element.scrollTop)),cs=_getComputedStyle(element),(!widthMatches||force)&&(style.display="block",style.width="auto",style.paddingRight="0px",extraPadRight=Math.max(0,element.scrollWidth-element.clientWidth),extraPadRight&&(extraPadRight+=parseFloat(cs.paddingLeft)+(_addPaddingBR?parseFloat(cs.paddingRight):0))),style.display="inline-block",style.position="relative",style.overflow="visible",style.verticalAlign="top",style.boxSizing="content-box",style.width="100%",style.paddingRight=extraPadRight+"px",_addPaddingBR&&(style.paddingBottom=cs.paddingBottom),elementWidth=element.clientWidth,elementHeight=element.clientHeight,scrollWidth=element.scrollWidth,scrollHeight=element.scrollHeight,maxLeft=element.scrollWidth-elementWidth,maxTop=element.scrollHeight-elementHeight,contentHeight=content.offsetHeight,style.display="block",(x||y)&&(this.left(x),this.top(y))},this.content=content,this.element=element,this._skip=!1,this.enable()},_initCore=function(required){if(_windowExists()&&document.body){var nav=window&&window.navigator;_win=window,_doc=document,_docElement=_doc.documentElement,_body=_doc.body,_tempDiv=_createElement("div"),_supportsPointer=!!window.PointerEvent,_placeholderDiv=_createElement("div"),_placeholderDiv.style.cssText="visibility:hidden;height:1px;top:-1px;pointer-events:none;position:relative;clear:both;cursor:grab",_defaultCursor=_placeholderDiv.style.cursor==="grab"?"grab":"move",_isAndroid=nav&&nav.userAgent.toLowerCase().indexOf("android")!==-1,_isTouchDevice="ontouchstart"in _docElement&&"orientation"in _win||nav&&(nav.MaxTouchPoints>0||nav.msMaxTouchPoints>0),_addPaddingBR=function(){var val,div=_createElement("div"),child=_createElement("div"),childStyle=child.style,parent=_body;return childStyle.display="inline-block",childStyle.position="relative",div.style.cssText="width:90px;height:40px;padding:10px;overflow:auto;visibility:hidden",div.appendChild(child),parent.appendChild(div),val=child.offsetHeight+18>div.scrollHeight,parent.removeChild(div),val}(),_touchEventLookup=function(types){for(var standard=types.split(","),converted=("onpointerdown"in _tempDiv?"pointerdown,pointermove,pointerup,pointercancel":"onmspointerdown"in _tempDiv?"MSPointerDown,MSPointerMove,MSPointerUp,MSPointerCancel":types).split(","),obj={},i=4;--i>-1;)obj[standard[i]]=converted[i],obj[converted[i]]=standard[i];try{_docElement.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){_supportsPassive=1}}))}catch{}return obj}("touchstart,touchmove,touchend,touchcancel"),_addListener(_doc,"touchcancel",_emptyFunc),_addListener(_win,"touchmove",_emptyFunc),_body&&_body.addEventListener("touchstart",_emptyFunc),_addListener(_doc,"contextmenu",function(){for(var p in _lookup)_lookup[p].isPressed&&_lookup[p].endDrag()}),gsap=_coreInitted=_getGSAP()}gsap?(InertiaPlugin=gsap.plugins.inertia,_context=gsap.core.context||function(){},_checkPrefix=gsap.utils.checkPrefix,_transformProp=_checkPrefix(_transformProp),_transformOriginProp=_checkPrefix(_transformOriginProp),_toArray=gsap.utils.toArray,_getStyleSaver=gsap.core.getStyleSaver,_supports3D=!!_checkPrefix("perspective")):required&&console.warn("Please gsap.registerPlugin(Draggable)")},EventDispatcher=function(){function EventDispatcher(target){this._listeners={},this.target=target||this}var _proto=EventDispatcher.prototype;return _proto.addEventListener=function(type,callback){var list=this._listeners[type]||(this._listeners[type]=[]);~list.indexOf(callback)||list.push(callback)},_proto.removeEventListener=function(type,callback){var list=this._listeners[type],i=list&&list.indexOf(callback);i>=0&&list.splice(i,1)},_proto.dispatchEvent=function(type){var result,_this=this;return(this._listeners[type]||[]).forEach(function(callback){return callback.call(_this,{type,target:_this.target})===!1&&(result=!1)}),result},EventDispatcher}();export var Draggable=function(_EventDispatcher){_inheritsLoose(Draggable,_EventDispatcher);function Draggable(target,vars){_this2=_EventDispatcher.call(this)||this,_coreInitted||_initCore(1),target=_toArray(target)[0],_this2.styles=_getStyleSaver&&_getStyleSaver(target,"transform,left,top"),InertiaPlugin||(InertiaPlugin=gsap.plugins.inertia),_this2.vars=vars=_copy(vars||{}),_this2.target=target,_this2.x=_this2.y=_this2.rotation=0,_this2.dragResistance=parseFloat(vars.dragResistance)||0,_this2.edgeResistance=isNaN(vars.edgeResistance)?1:parseFloat(vars.edgeResistance)||0,_this2.lockAxis=vars.lockAxis,_this2.autoScroll=vars.autoScroll||0,_this2.lockedAxis=null,_this2.allowEventDefault=!!vars.allowEventDefault,gsap.getProperty(target,"x");var _this2,enabled,scrollProxy,startPointerX,startPointerY,startElementX,startElementY,hasBounds,hasDragCallback,hasMoveCallback,maxX,minX,maxY,minY,touch,touchID,rotationOrigin,dirty,snapX,snapY,snapXY,isClicking,touchEventTarget,matrix,interrupted,allowNativeTouchScrolling,touchDragAxis,isDispatching,clickDispatch,trustedClickDispatch,isPreventingDefault,innerMatrix,dragged,type=(vars.type||"x,y").toLowerCase(),xyMode=~type.indexOf("x")||~type.indexOf("y"),rotationMode=type.indexOf("rotation")!==-1,xProp=rotationMode?"rotation":xyMode?"x":"left",yProp=xyMode?"y":"top",allowX=!!(~type.indexOf("x")||~type.indexOf("left")||type==="scroll"),allowY=!!(~type.indexOf("y")||~type.indexOf("top")||type==="scroll"),minimumMovement=vars.minimumMovement||2,self=_assertThisInitialized(_this2),triggers=_toArray(vars.trigger||vars.handle||target),killProps={},dragEndTime=0,checkAutoScrollBounds=!1,autoScrollMarginTop=vars.autoScrollMarginTop||40,autoScrollMarginRight=vars.autoScrollMarginRight||40,autoScrollMarginBottom=vars.autoScrollMarginBottom||40,autoScrollMarginLeft=vars.autoScrollMarginLeft||40,isClickable=vars.clickableTest||_isClickable,clickTime=0,gsCache=target._gsap||gsap.core.getCache(target),isFixed=_isFixed(target),getPropAsNum=function(property,unit){return parseFloat(gsCache.get(target,property,unit))},ownerDoc=target.ownerDocument||_doc,onContextMenu=function(e){return _preventDefault(e),e.stopImmediatePropagation&&e.stopImmediatePropagation(),!1},render=function render(suppressEvents){if(self.autoScroll&&self.isDragging&&(checkAutoScrollBounds||dirty)){var parent,isRoot,rect,pointerX,pointerY,changeX,changeY,gap,y,x,e=target,autoScrollFactor=self.autoScroll*15;for(checkAutoScrollBounds=!1,_windowProxy.scrollTop=_win.pageYOffset!=null?_win.pageYOffset:ownerDoc.documentElement.scrollTop!=null?ownerDoc.documentElement.scrollTop:ownerDoc.body.scrollTop,_windowProxy.scrollLeft=_win.pageXOffset!=null?_win.pageXOffset:ownerDoc.documentElement.scrollLeft!=null?ownerDoc.documentElement.scrollLeft:ownerDoc.body.scrollLeft,pointerX=self.pointerX-_windowProxy.scrollLeft,pointerY=self.pointerY-_windowProxy.scrollTop;e&&!isRoot;)isRoot=_isRoot(e.parentNode),parent=isRoot?_windowProxy:e.parentNode,rect=isRoot?{bottom:Math.max(_docElement.clientHeight,_win.innerHeight||0),right:Math.max(_docElement.clientWidth,_win.innerWidth||0),left:0,top:0}:parent.getBoundingClientRect(),changeX=changeY=0,allowY&&(gap=parent._gsMaxScrollY-parent.scrollTop,gap<0?changeY=gap:pointerY>rect.bottom-autoScrollMarginBottom&&gap?(checkAutoScrollBounds=!0,changeY=Math.min(gap,autoScrollFactor*(1-Math.max(0,rect.bottom-pointerY)/autoScrollMarginBottom)|0)):pointerY<rect.top+autoScrollMarginTop&&parent.scrollTop&&(checkAutoScrollBounds=!0,changeY=-Math.min(parent.scrollTop,autoScrollFactor*(1-Math.max(0,pointerY-rect.top)/autoScrollMarginTop)|0)),changeY&&(parent.scrollTop+=changeY)),allowX&&(gap=parent._gsMaxScrollX-parent.scrollLeft,gap<0?changeX=gap:pointerX>rect.right-autoScrollMarginRight&&gap?(checkAutoScrollBounds=!0,changeX=Math.min(gap,autoScrollFactor*(1-Math.max(0,rect.right-pointerX)/autoScrollMarginRight)|0)):pointerX<rect.left+autoScrollMarginLeft&&parent.scrollLeft&&(checkAutoScrollBounds=!0,changeX=-Math.min(parent.scrollLeft,autoScrollFactor*(1-Math.max(0,pointerX-rect.left)/autoScrollMarginLeft)|0)),changeX&&(parent.scrollLeft+=changeX)),isRoot&&(changeX||changeY)&&(_win.scrollTo(parent.scrollLeft,parent.scrollTop),setPointerPosition(self.pointerX+changeX,self.pointerY+changeY)),e=parent}dirty&&(x=self.x,y=self.y,rotationMode?(self.deltaX=x-parseFloat(gsCache.rotation),self.rotation=x,gsCache.rotation=x+"deg",gsCache.renderTransform(1,gsCache)):scrollProxy?(allowY&&(self.deltaY=y-scrollProxy.top(),scrollProxy.top(y)),allowX&&(self.deltaX=x-scrollProxy.left(),scrollProxy.left(x))):xyMode?(allowY&&(self.deltaY=y-parseFloat(gsCache.y),gsCache.y=y+"px"),allowX&&(self.deltaX=x-parseFloat(gsCache.x),gsCache.x=x+"px"),gsCache.renderTransform(1,gsCache)):(allowY&&(self.deltaY=y-parseFloat(target.style.top||0),target.style.top=y+"px"),allowX&&(self.deltaX=x-parseFloat(target.style.left||0),target.style.left=x+"px")),hasDragCallback&&!suppressEvents&&!isDispatching&&(isDispatching=!0,_dispatchEvent(self,"drag","onDrag")===!1&&(allowX&&(self.x-=self.deltaX),allowY&&(self.y-=self.deltaY),render(!0)),isDispatching=!1)),dirty=!1},syncXY=function(skipOnUpdate,skipSnap){var snappedValue,cs,x=self.x,y=self.y;target._gsap||(gsCache=gsap.core.getCache(target)),gsCache.uncache&&gsap.getProperty(target,"x"),xyMode?(self.x=parseFloat(gsCache.x),self.y=parseFloat(gsCache.y)):rotationMode?self.x=self.rotation=parseFloat(gsCache.rotation):scrollProxy?(self.y=scrollProxy.top(),self.x=scrollProxy.left()):(self.y=parseFloat(target.style.top||(cs=_getComputedStyle(target))&&cs.top)||0,self.x=parseFloat(target.style.left||(cs||{}).left)||0),(snapX||snapY||snapXY)&&!skipSnap&&(self.isDragging||self.isThrowing)&&(snapXY&&(_temp1.x=self.x,_temp1.y=self.y,snappedValue=snapXY(_temp1),snappedValue.x!==self.x&&(self.x=snappedValue.x,dirty=!0),snappedValue.y!==self.y&&(self.y=snappedValue.y,dirty=!0)),snapX&&(snappedValue=snapX(self.x),snappedValue!==self.x&&(self.x=snappedValue,rotationMode&&(self.rotation=snappedValue),dirty=!0)),snapY&&(snappedValue=snapY(self.y),snappedValue!==self.y&&(self.y=snappedValue),dirty=!0)),dirty&&render(!0),skipOnUpdate||(self.deltaX=self.x-x,self.deltaY=self.y-y,_dispatchEvent(self,"throwupdate","onThrowUpdate"))},buildSnapFunc=function(snap,min,max,factor){return min==null&&(min=-_bigNum),max==null&&(max=_bigNum),_isFunction(snap)?function(n){var edgeTolerance=self.isPressed?1-self.edgeResistance:1;return snap.call(self,(n>max?max+(n-max)*edgeTolerance:n<min?min+(n-min)*edgeTolerance:n)*factor)*factor}:_isArray(snap)?function(n){for(var val,dif,i=snap.length,closest=0,absDif=_bigNum;--i>-1;)val=snap[i],dif=val-n,dif<0&&(dif=-dif),dif<absDif&&val>=min&&val<=max&&(closest=i,absDif=dif);return snap[closest]}:isNaN(snap)?function(n){return n}:function(){return snap*factor}},buildPointSnapFunc=function(snap,minX,maxX,minY,maxY,radius,factor){return radius=radius&&radius<_bigNum?radius*radius:_bigNum,_isFunction(snap)?function(point){var result,dx,dy,edgeTolerance=self.isPressed?1-self.edgeResistance:1,x=point.x,y=point.y;return point.x=x=x>maxX?maxX+(x-maxX)*edgeTolerance:x<minX?minX+(x-minX)*edgeTolerance:x,point.y=y=y>maxY?maxY+(y-maxY)*edgeTolerance:y<minY?minY+(y-minY)*edgeTolerance:y,result=snap.call(self,point),result!==point&&(point.x=result.x,point.y=result.y),factor!==1&&(point.x*=factor,point.y*=factor),radius<_bigNum&&(dx=point.x-x,dy=point.y-y,dx*dx+dy*dy>radius&&(point.x=x,point.y=y)),point}:_isArray(snap)?function(p){for(var y,x,point,dist,i=snap.length,closest=0,minDist=_bigNum;--i>-1;)point=snap[i],x=point.x-p.x,y=point.y-p.y,dist=x*x+y*y,dist<minDist&&(closest=i,minDist=dist);return minDist<=radius?snap[closest]:p}:function(n){return n}},calculateBounds=function(){var bounds,targetBounds,snap,snapIsRaw;hasBounds=!1,scrollProxy?(scrollProxy.calibrate(),self.minX=minX=-scrollProxy.maxScrollLeft(),self.minY=minY=-scrollProxy.maxScrollTop(),self.maxX=maxX=self.maxY=maxY=0,hasBounds=!0):!vars.bounds||(bounds=_getBounds(vars.bounds,target.parentNode),rotationMode?(self.minX=minX=bounds.left,self.maxX=maxX=bounds.left+bounds.width,self.minY=minY=self.maxY=maxY=0):!_isUndefined(vars.bounds.maxX)||!_isUndefined(vars.bounds.maxY)?(bounds=vars.bounds,self.minX=minX=bounds.minX,self.minY=minY=bounds.minY,self.maxX=maxX=bounds.maxX,self.maxY=maxY=bounds.maxY):(targetBounds=_getBounds(target,target.parentNode),self.minX=minX=Math.round(getPropAsNum(xProp,"px")+bounds.left-targetBounds.left),self.minY=minY=Math.round(getPropAsNum(yProp,"px")+bounds.top-targetBounds.top),self.maxX=maxX=Math.round(minX+(bounds.width-targetBounds.width)),self.maxY=maxY=Math.round(minY+(bounds.height-targetBounds.height))),minX>maxX&&(self.minX=maxX,self.maxX=maxX=minX,minX=self.minX),minY>maxY&&(self.minY=maxY,self.maxY=maxY=minY,minY=self.minY),rotationMode&&(self.minRotation=minX,self.maxRotation=maxX),hasBounds=!0),vars.liveSnap&&(snap=vars.liveSnap===!0?vars.snap||{}:vars.liveSnap,snapIsRaw=_isArray(snap)||_isFunction(snap),rotationMode?(snapX=buildSnapFunc(snapIsRaw?snap:snap.rotation,minX,maxX,1),snapY=null):snap.points?snapXY=buildPointSnapFunc(snapIsRaw?snap:snap.points,minX,maxX,minY,maxY,snap.radius,scrollProxy?-1:1):(allowX&&(snapX=buildSnapFunc(snapIsRaw?snap:snap.x||snap.left||snap.scrollLeft,minX,maxX,scrollProxy?-1:1)),allowY&&(snapY=buildSnapFunc(snapIsRaw?snap:snap.y||snap.top||snap.scrollTop,minY,maxY,scrollProxy?-1:1))))},onThrowComplete=function(){self.isThrowing=!1,_dispatchEvent(self,"throwcomplete","onThrowComplete")},onThrowInterrupt=function(){self.isThrowing=!1},animate=function(inertia,forceZeroVelocity){var snap,snapIsRaw,tween,overshootTolerance;inertia&&InertiaPlugin?(inertia===!0&&(snap=vars.snap||vars.liveSnap||{},snapIsRaw=_isArray(snap)||_isFunction(snap),inertia={resistance:(vars.throwResistance||vars.resistance||1e3)/(rotationMode?10:1)},rotationMode?inertia.rotation=_parseInertia(self,snapIsRaw?snap:snap.rotation,maxX,minX,1,forceZeroVelocity):(allowX&&(inertia[xProp]=_parseInertia(self,snapIsRaw?snap:snap.points||snap.x||snap.left,maxX,minX,scrollProxy?-1:1,forceZeroVelocity||self.lockedAxis==="x")),allowY&&(inertia[yProp]=_parseInertia(self,snapIsRaw?snap:snap.points||snap.y||snap.top,maxY,minY,scrollProxy?-1:1,forceZeroVelocity||self.lockedAxis==="y")),(snap.points||_isArray(snap)&&_isObject(snap[0]))&&(inertia.linkedProps=xProp+","+yProp,inertia.radius=snap.radius))),self.isThrowing=!0,overshootTolerance=isNaN(vars.overshootTolerance)?vars.edgeResistance===1?0:1-self.edgeResistance+.2:vars.overshootTolerance,inertia.duration||(inertia.duration={max:Math.max(vars.minDuration||0,"maxDuration"in vars?vars.maxDuration:2),min:isNaN(vars.minDuration)?overshootTolerance===0||_isObject(inertia)&&inertia.resistance>1e3?0:.5:vars.minDuration,overshoot:overshootTolerance}),self.tween=tween=gsap.to(scrollProxy||target,{inertia,data:"_draggable",onComplete:onThrowComplete,onInterrupt:onThrowInterrupt,onUpdate:vars.fastMode?_dispatchEvent:syncXY,onUpdateParams:vars.fastMode?[self,"onthrowupdate","onThrowUpdate"]:snap&&snap.radius?[!1,!0]:[]}),vars.fastMode||(scrollProxy&&(scrollProxy._skip=!0),tween.render(1e9,!0,!0),syncXY(!0,!0),self.endX=self.x,self.endY=self.y,rotationMode&&(self.endRotation=self.x),tween.play(0),syncXY(!0,!0),scrollProxy&&(scrollProxy._skip=!1))):hasBounds&&self.applyBounds()},updateMatrix=function(shiftStart){var p,start=matrix;matrix=getGlobalMatrix(target.parentNode,!0),shiftStart&&self.isPressed&&!matrix.equals(start||new Matrix2D)&&(p=start.inverse().apply({x:startPointerX,y:startPointerY}),matrix.apply(p,p),startPointerX=p.x,startPointerY=p.y),matrix.equals(_identityMatrix)&&(matrix=null)},recordStartPositions=function(){var parsedOrigin,y,x,edgeTolerance=1-self.edgeResistance,offsetX=isFixed?_getDocScrollLeft(ownerDoc):0,offsetY=isFixed?_getDocScrollTop(ownerDoc):0;xyMode&&(gsCache.x=getPropAsNum(xProp,"px")+"px",gsCache.y=getPropAsNum(yProp,"px")+"px",gsCache.renderTransform()),updateMatrix(!1),_point1.x=self.pointerX-offsetX,_point1.y=self.pointerY-offsetY,matrix&&matrix.apply(_point1,_point1),startPointerX=_point1.x,startPointerY=_point1.y,dirty&&(setPointerPosition(self.pointerX,self.pointerY),render(!0)),innerMatrix=getGlobalMatrix(target),scrollProxy?(calculateBounds(),startElementY=scrollProxy.top(),startElementX=scrollProxy.left()):(isTweening()?(syncXY(!0,!0),calculateBounds()):self.applyBounds(),rotationMode?(parsedOrigin=target.ownerSVGElement?[gsCache.xOrigin-target.getBBox().x,gsCache.yOrigin-target.getBBox().y]:(_getComputedStyle(target)[_transformOriginProp]||"0 0").split(" "),rotationOrigin=self.rotationOrigin=getGlobalMatrix(target).apply({x:parseFloat(parsedOrigin[0])||0,y:parseFloat(parsedOrigin[1])||0}),syncXY(!0,!0),x=self.pointerX-rotationOrigin.x-offsetX,y=rotationOrigin.y-self.pointerY+offsetY,startElementX=self.x,startElementY=self.y=Math.atan2(y,x)*_RAD2DEG):(startElementY=getPropAsNum(yProp,"px"),startElementX=getPropAsNum(xProp,"px"))),hasBounds&&edgeTolerance&&(startElementX>maxX?startElementX=maxX+(startElementX-maxX)/edgeTolerance:startElementX<minX&&(startElementX=minX-(minX-startElementX)/edgeTolerance),rotationMode||(startElementY>maxY?startElementY=maxY+(startElementY-maxY)/edgeTolerance:startElementY<minY&&(startElementY=minY-(minY-startElementY)/edgeTolerance))),self.startX=startElementX=_round(startElementX),self.startY=startElementY=_round(startElementY)},isTweening=function(){return self.tween&&self.tween.isActive()},removePlaceholder=function(){_placeholderDiv.parentNode&&!isTweening()&&!self.isDragging&&_placeholderDiv.parentNode.removeChild(_placeholderDiv)},onPress=function(e,force){if(!enabled||self.isPressed||!e||(e.type==="mousedown"||e.type==="pointerdown")&&!force&&_getTime()-clickTime<30&&_touchEventLookup[self.pointerEvent.type]){isPreventingDefault&&e&&enabled&&_preventDefault(e);return}if(interrupted=isTweening(),dragged=!1,self.pointerEvent=e,_touchEventLookup[e.type]?(touchEventTarget=~e.type.indexOf("touch")?e.currentTarget||e.target:ownerDoc,_addListener(touchEventTarget,"touchend",onRelease),_addListener(touchEventTarget,"touchmove",onMove),_addListener(touchEventTarget,"touchcancel",onRelease),_addListener(ownerDoc,"touchstart",_onMultiTouchDocument)):(touchEventTarget=null,_addListener(ownerDoc,"mousemove",onMove)),touchDragAxis=null,(!_supportsPointer||!touchEventTarget)&&(_addListener(ownerDoc,"mouseup",onRelease),e&&e.target&&_addListener(e.target,"mouseup",onRelease)),isClicking=isClickable.call(self,e.target)&&vars.dragClickables===!1&&!force,isClicking){_addListener(e.target,"change",onRelease),_dispatchEvent(self,"pressInit","onPressInit"),_dispatchEvent(self,"press","onPress"),_setSelectable(triggers,!0),isPreventingDefault=!1;return}if(allowNativeTouchScrolling=!(!touchEventTarget||allowX===allowY||self.vars.allowNativeTouchScrolling===!1||self.vars.allowContextMenu&&e&&(e.ctrlKey||e.which>2))&&(allowX?"y":"x"),isPreventingDefault=!allowNativeTouchScrolling&&!self.allowEventDefault,isPreventingDefault&&(_preventDefault(e),_addListener(_win,"touchforcechange",_preventDefault)),e.changedTouches?(e=touch=e.changedTouches[0],touchID=e.identifier):e.pointerId?touchID=e.pointerId:touch=touchID=null,_dragCount++,_addToRenderQueue(render),startPointerY=self.pointerY=e.pageY,startPointerX=self.pointerX=e.pageX,_dispatchEvent(self,"pressInit","onPressInit"),(allowNativeTouchScrolling||self.autoScroll)&&_recordMaxScrolls(target.parentNode),target.parentNode&&self.autoScroll&&!scrollProxy&&!rotationMode&&target.parentNode._gsMaxScrollX&&!_placeholderDiv.parentNode&&!target.getBBox&&(_placeholderDiv.style.width=target.parentNode.scrollWidth+"px",target.parentNode.appendChild(_placeholderDiv)),recordStartPositions(),self.tween&&self.tween.kill(),self.isThrowing=!1,gsap.killTweensOf(scrollProxy||target,killProps,!0),scrollProxy&&gsap.killTweensOf(target,{scrollTo:1},!0),self.tween=self.lockedAxis=null,(vars.zIndexBoost||!rotationMode&&!scrollProxy&&vars.zIndexBoost!==!1)&&(target.style.zIndex=Draggable.zIndex++),self.isPressed=!0,hasDragCallback=!!(vars.onDrag||self._listeners.drag),hasMoveCallback=!!(vars.onMove||self._listeners.move),vars.cursor!==!1||vars.activeCursor){i=triggers.length;for(var i;--i>-1;)gsap.set(triggers[i],{cursor:vars.activeCursor||vars.cursor||(_defaultCursor==="grab"?"grabbing":_defaultCursor)})}_dispatchEvent(self,"press","onPress")},onMove=function(e){var touches,pointerX,pointerY,i,dx,dy,originalEvent=e;if(!enabled||_isMultiTouching||!self.isPressed||!e){isPreventingDefault&&e&&enabled&&_preventDefault(e);return}if(self.pointerEvent=e,touches=e.changedTouches,touches){if(e=touches[0],e!==touch&&e.identifier!==touchID){for(i=touches.length;--i>-1&&(e=touches[i]).identifier!==touchID&&e.target!==target;);if(i<0)return}}else if(e.pointerId&&touchID&&e.pointerId!==touchID)return;if(touchEventTarget&&allowNativeTouchScrolling&&!touchDragAxis&&(_point1.x=e.pageX-(isFixed?_getDocScrollLeft(ownerDoc):0),_point1.y=e.pageY-(isFixed?_getDocScrollTop(ownerDoc):0),matrix&&matrix.apply(_point1,_point1),pointerX=_point1.x,pointerY=_point1.y,dx=Math.abs(pointerX-startPointerX),dy=Math.abs(pointerY-startPointerY),(dx!==dy&&(dx>minimumMovement||dy>minimumMovement)||_isAndroid&&allowNativeTouchScrolling===touchDragAxis)&&(touchDragAxis=dx>dy&&allowX?"x":"y",allowNativeTouchScrolling&&touchDragAxis!==allowNativeTouchScrolling&&_addListener(_win,"touchforcechange",_preventDefault),self.vars.lockAxisOnTouchScroll!==!1&&allowX&&allowY&&(self.lockedAxis=touchDragAxis==="x"?"y":"x",_isFunction(self.vars.onLockAxis)&&self.vars.onLockAxis.call(self,originalEvent)),_isAndroid&&allowNativeTouchScrolling===touchDragAxis))){onRelease(originalEvent);return}!self.allowEventDefault&&(!allowNativeTouchScrolling||touchDragAxis&&allowNativeTouchScrolling!==touchDragAxis)&&originalEvent.cancelable!==!1?(_preventDefault(originalEvent),isPreventingDefault=!0):isPreventingDefault&&(isPreventingDefault=!1),self.autoScroll&&(checkAutoScrollBounds=!0),setPointerPosition(e.pageX,e.pageY,hasMoveCallback)},setPointerPosition=function(pointerX,pointerY,invokeOnMove){var xChange,yChange,y,x,dif,temp,dragTolerance=1-self.dragResistance,edgeTolerance=1-self.edgeResistance,prevPointerX=self.pointerX,prevPointerY=self.pointerY,prevStartElementY=startElementY,prevX=self.x,prevY=self.y,prevEndX=self.endX,prevEndY=self.endY,prevEndRotation=self.endRotation,prevDirty=dirty;self.pointerX=pointerX,self.pointerY=pointerY,isFixed&&(pointerX-=_getDocScrollLeft(ownerDoc),pointerY-=_getDocScrollTop(ownerDoc)),rotationMode?(y=Math.atan2(rotationOrigin.y-pointerY,pointerX-rotationOrigin.x)*_RAD2DEG,dif=self.y-y,dif>180?(startElementY-=360,self.y=y):dif<-180&&(startElementY+=360,self.y=y),self.x!==startElementX||Math.abs(startElementY-y)>minimumMovement?(self.y=y,x=startElementX+(startElementY-y)*dragTolerance):x=startElementX):(matrix&&(temp=pointerX*matrix.a+pointerY*matrix.c+matrix.e,pointerY=pointerX*matrix.b+pointerY*matrix.d+matrix.f,pointerX=temp),yChange=pointerY-startPointerY,xChange=pointerX-startPointerX,yChange<minimumMovement&&yChange>-minimumMovement&&(yChange=0),xChange<minimumMovement&&xChange>-minimumMovement&&(xChange=0),(self.lockAxis||self.lockedAxis)&&(xChange||yChange)&&(temp=self.lockedAxis,temp||(self.lockedAxis=temp=allowX&&Math.abs(xChange)>Math.abs(yChange)?"y":allowY?"x":null,temp&&_isFunction(self.vars.onLockAxis)&&self.vars.onLockAxis.call(self,self.pointerEvent)),temp==="y"?yChange=0:temp==="x"&&(xChange=0)),x=_round(startElementX+xChange*dragTolerance),y=_round(startElementY+yChange*dragTolerance)),(snapX||snapY||snapXY)&&(self.x!==x||self.y!==y&&!rotationMode)&&(snapXY&&(_temp1.x=x,_temp1.y=y,temp=snapXY(_temp1),x=_round(temp.x),y=_round(temp.y)),snapX&&(x=_round(snapX(x))),snapY&&(y=_round(snapY(y)))),hasBounds&&(x>maxX?x=maxX+Math.round((x-maxX)*edgeTolerance):x<minX&&(x=minX+Math.round((x-minX)*edgeTolerance)),rotationMode||(y>maxY?y=Math.round(maxY+(y-maxY)*edgeTolerance):y<minY&&(y=Math.round(minY+(y-minY)*edgeTolerance)))),(self.x!==x||self.y!==y&&!rotationMode)&&(rotationMode?(self.endRotation=self.x=self.endX=x,dirty=!0):(allowY&&(self.y=self.endY=y,dirty=!0),allowX&&(self.x=self.endX=x,dirty=!0)),!invokeOnMove||_dispatchEvent(self,"move","onMove")!==!1?!self.isDragging&&self.isPressed&&(self.isDragging=dragged=!0,_dispatchEvent(self,"dragstart","onDragStart")):(self.pointerX=prevPointerX,self.pointerY=prevPointerY,startElementY=prevStartElementY,self.x=prevX,self.y=prevY,self.endX=prevEndX,self.endY=prevEndY,self.endRotation=prevEndRotation,dirty=prevDirty))},onRelease=function onRelease(e,force){if(!enabled||!self.isPressed||e&&touchID!=null&&!force&&(e.pointerId&&e.pointerId!==touchID&&e.target!==target||e.changedTouches&&!_hasTouchID(e.changedTouches,touchID))){isPreventingDefault&&e&&enabled&&_preventDefault(e);return}self.isPressed=!1;var touches,i,syntheticEvent,eventTarget,syntheticClick,originalEvent=e,wasDragging=self.isDragging,isContextMenuRelease=self.vars.allowContextMenu&&e&&(e.ctrlKey||e.which>2),placeholderDelayedCall=gsap.delayedCall(.001,removePlaceholder);if(touchEventTarget?(_removeListener(touchEventTarget,"touchend",onRelease),_removeListener(touchEventTarget,"touchmove",onMove),_removeListener(touchEventTarget,"touchcancel",onRelease),_removeListener(ownerDoc,"touchstart",_onMultiTouchDocument)):_removeListener(ownerDoc,"mousemove",onMove),_removeListener(_win,"touchforcechange",_preventDefault),(!_supportsPointer||!touchEventTarget)&&(_removeListener(ownerDoc,"mouseup",onRelease),e&&e.target&&_removeListener(e.target,"mouseup",onRelease)),dirty=!1,wasDragging&&(dragEndTime=_lastDragTime=_getTime(),self.isDragging=!1),_removeFromRenderQueue(render),isClicking&&!isContextMenuRelease){e&&(_removeListener(e.target,"change",onRelease),self.pointerEvent=originalEvent),_setSelectable(triggers,!1),_dispatchEvent(self,"release","onRelease"),_dispatchEvent(self,"click","onClick"),isClicking=!1;return}for(i=triggers.length;--i>-1;)_setStyle(triggers[i],"cursor",vars.cursor||(vars.cursor!==!1?_defaultCursor:null));if(_dragCount--,e){if(touches=e.changedTouches,touches&&(e=touches[0],e!==touch&&e.identifier!==touchID)){for(i=touches.length;--i>-1&&(e=touches[i]).identifier!==touchID&&e.target!==target;);if(i<0&&!force)return}self.pointerEvent=originalEvent,self.pointerX=e.pageX,self.pointerY=e.pageY}return isContextMenuRelease&&originalEvent?(_preventDefault(originalEvent),isPreventingDefault=!0,_dispatchEvent(self,"release","onRelease")):originalEvent&&!wasDragging?(isPreventingDefault=!1,interrupted&&(vars.snap||vars.bounds)&&animate(vars.inertia||vars.throwProps),_dispatchEvent(self,"release","onRelease"),(!_isAndroid||originalEvent.type!=="touchmove")&&originalEvent.type.indexOf("cancel")===-1&&(_dispatchEvent(self,"click","onClick"),_getTime()-clickTime<300&&_dispatchEvent(self,"doubleclick","onDoubleClick"),eventTarget=originalEvent.target||target,clickTime=_getTime(),syntheticClick=function(){clickTime!==clickDispatch&&self.enabled()&&!self.isPressed&&!originalEvent.defaultPrevented&&(eventTarget.click?eventTarget.click():ownerDoc.createEvent&&(syntheticEvent=ownerDoc.createEvent("MouseEvents"),syntheticEvent.initMouseEvent("click",!0,!0,_win,1,self.pointerEvent.screenX,self.pointerEvent.screenY,self.pointerX,self.pointerY,!1,!1,!1,!1,0,null),eventTarget.dispatchEvent(syntheticEvent)))},!_isAndroid&&!originalEvent.defaultPrevented&&gsap.delayedCall(.05,syntheticClick))):(animate(vars.inertia||vars.throwProps),!self.allowEventDefault&&originalEvent&&(vars.dragClickables!==!1||!isClickable.call(self,originalEvent.target))&&wasDragging&&(!allowNativeTouchScrolling||touchDragAxis&&allowNativeTouchScrolling===touchDragAxis)&&originalEvent.cancelable!==!1?(isPreventingDefault=!0,_preventDefault(originalEvent)):isPreventingDefault=!1,_dispatchEvent(self,"release","onRelease")),isTweening()&&placeholderDelayedCall.duration(self.tween.duration()),wasDragging&&_dispatchEvent(self,"dragend","onDragEnd"),!0},updateScroll=function(e){if(e&&self.isDragging&&!scrollProxy){var parent=e.target||target.parentNode,deltaX=parent.scrollLeft-parent._gsScrollX,deltaY=parent.scrollTop-parent._gsScrollY;(deltaX||deltaY)&&(matrix?(startPointerX-=deltaX*matrix.a+deltaY*matrix.c,startPointerY-=deltaY*matrix.d+deltaX*matrix.b):(startPointerX-=deltaX,startPointerY-=deltaY),parent._gsScrollX+=deltaX,parent._gsScrollY+=deltaY,setPointerPosition(self.pointerX,self.pointerY))}},onClick=function(e){var time=_getTime(),recentlyClicked=time-clickTime<100,recentlyDragged=time-dragEndTime<50,alreadyDispatched=recentlyClicked&&clickDispatch===clickTime,defaultPrevented=self.pointerEvent&&self.pointerEvent.defaultPrevented,alreadyDispatchedTrusted=recentlyClicked&&trustedClickDispatch===clickTime,trusted=e.isTrusted||e.isTrusted==null&&recentlyClicked&&alreadyDispatched;if((alreadyDispatched||recentlyDragged&&self.vars.suppressClickOnDrag!==!1)&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),recentlyClicked&&!(self.pointerEvent&&self.pointerEvent.defaultPrevented)&&(!alreadyDispatched||trusted&&!alreadyDispatchedTrusted)){trusted&&alreadyDispatched&&(trustedClickDispatch=clickTime),clickDispatch=clickTime;return}(self.isPressed||recentlyDragged||recentlyClicked)&&(!trusted||!e.detail||!recentlyClicked||defaultPrevented)&&_preventDefault(e),!recentlyClicked&&!recentlyDragged&&!dragged&&(e&&e.target&&(self.pointerEvent=e),_dispatchEvent(self,"click","onClick"))},localizePoint=function(p){return matrix?{x:p.x*matrix.a+p.y*matrix.c+matrix.e,y:p.x*matrix.b+p.y*matrix.d+matrix.f}:{x:p.x,y:p.y}},old=Draggable.get(target);return old&&old.kill(),_this2.startDrag=function(event,align){var r1,r2,p1,p2;onPress(event||self.pointerEvent,!0),align&&!self.hitTest(event||self.pointerEvent)&&(r1=_parseRect(event||self.pointerEvent),r2=_parseRect(target),p1=localizePoint({x:r1.left+r1.width/2,y:r1.top+r1.height/2}),p2=localizePoint({x:r2.left+r2.width/2,y:r2.top+r2.height/2}),startPointerX-=p1.x-p2.x,startPointerY-=p1.y-p2.y),self.isDragging||(self.isDragging=dragged=!0,_dispatchEvent(self,"dragstart","onDragStart"))},_this2.drag=onMove,_this2.endDrag=function(e){return onRelease(e||self.pointerEvent,!0)},_this2.timeSinceDrag=function(){return self.isDragging?0:(_getTime()-dragEndTime)/1e3},_this2.timeSinceClick=function(){return(_getTime()-clickTime)/1e3},_this2.hitTest=function(target,threshold){return Draggable.hitTest(self.target,target,threshold)},_this2.getDirection=function(from,diagonalThreshold){var xChange,yChange,ratio,direction,r1,r2,mode=from==="velocity"&&InertiaPlugin?from:_isObject(from)&&!rotationMode?"element":"start";return mode==="element"&&(r1=_parseRect(self.target),r2=_parseRect(from)),xChange=mode==="start"?self.x-startElementX:mode==="velocity"?InertiaPlugin.getVelocity(target,xProp):r1.left+r1.width/2-(r2.left+r2.width/2),rotationMode?xChange<0?"counter-clockwise":"clockwise":(diagonalThreshold=diagonalThreshold||2,yChange=mode==="start"?self.y-startElementY:mode==="velocity"?InertiaPlugin.getVelocity(target,yProp):r1.top+r1.height/2-(r2.top+r2.height/2),ratio=Math.abs(xChange/yChange),direction=ratio<1/diagonalThreshold?"":xChange<0?"left":"right",ratio<diagonalThreshold&&(direction!==""&&(direction+="-"),direction+=yChange<0?"up":"down"),direction)},_this2.applyBounds=function(newBounds,sticky){if(newBounds&&vars.bounds!==newBounds)return vars.bounds=newBounds,self.update(!0,sticky);if(syncXY(!0),calculateBounds(),hasBounds&&!isTweening()){if(x=self.x,y=self.y,x>maxX?x=maxX:x<minX&&(x=minX),y>maxY?y=maxY:y<minY&&(y=minY),(self.x!==x||self.y!==y)&&(forceZeroVelocity=!0,self.x=self.endX=x,rotationMode?self.endRotation=x:self.y=self.endY=y,dirty=!0,render(!0),self.autoScroll&&!self.isDragging)){_recordMaxScrolls(target.parentNode),e=target,_windowProxy.scrollTop=_win.pageYOffset!=null?_win.pageYOffset:ownerDoc.documentElement.scrollTop!=null?ownerDoc.documentElement.scrollTop:ownerDoc.body.scrollTop,_windowProxy.scrollLeft=_win.pageXOffset!=null?_win.pageXOffset:ownerDoc.documentElement.scrollLeft!=null?ownerDoc.documentElement.scrollLeft:ownerDoc.body.scrollLeft;for(var y,x,forceZeroVelocity,e,parent,isRoot;e&&!isRoot;)isRoot=_isRoot(e.parentNode),parent=isRoot?_windowProxy:e.parentNode,allowY&&parent.scrollTop>parent._gsMaxScrollY&&(parent.scrollTop=parent._gsMaxScrollY),allowX&&parent.scrollLeft>parent._gsMaxScrollX&&(parent.scrollLeft=parent._gsMaxScrollX),e=parent}self.isThrowing&&(forceZeroVelocity||self.endX>maxX||self.endX<minX||self.endY>maxY||self.endY<minY)&&animate(vars.inertia||vars.throwProps,forceZeroVelocity)}return self},_this2.update=function(applyBounds,sticky,ignoreExternalChanges){if(sticky&&self.isPressed){var y,x,m=getGlobalMatrix(target),p=innerMatrix.apply({x:self.x-startElementX,y:self.y-startElementY}),m2=getGlobalMatrix(target.parentNode,!0);m2.apply({x:m.e-p.x,y:m.f-p.y},p),self.x-=p.x-m2.e,self.y-=p.y-m2.f,render(!0),recordStartPositions()}return x=self.x,y=self.y,updateMatrix(!sticky),applyBounds?self.applyBounds():(dirty&&ignoreExternalChanges&&render(!0),syncXY(!0)),sticky&&(setPointerPosition(self.pointerX,self.pointerY),dirty&&render(!0)),self.isPressed&&!sticky&&(allowX&&Math.abs(x-self.x)>.01||allowY&&Math.abs(y-self.y)>.01&&!rotationMode)&&recordStartPositions(),self.autoScroll&&(_recordMaxScrolls(target.parentNode,self.isDragging),checkAutoScrollBounds=self.isDragging,render(!0),_removeScrollListener(target,updateScroll),_addScrollListener(target,updateScroll)),self},_this2.enable=function(type){var id,i,trigger,setVars={lazy:!0};if(vars.cursor!==!1&&(setVars.cursor=vars.cursor||_defaultCursor),gsap.utils.checkPrefix("touchCallout")&&(setVars.touchCallout="none"),type!=="soft"){for(_setTouchActionForAllDescendants(triggers,allowX===allowY?"none":vars.allowNativeTouchScrolling&&target.scrollHeight===target.clientHeight===(target.scrollWidth===target.clientHeight)||vars.allowEventDefault?"manipulation":allowX?"pan-y":"pan-x"),i=triggers.length;--i>-1;)trigger=triggers[i],_supportsPointer||_addListener(trigger,"mousedown",onPress),_addListener(trigger,"touchstart",onPress),_addListener(trigger,"click",onClick,!0),gsap.set(trigger,setVars),trigger.getBBox&&trigger.ownerSVGElement&&allowX!==allowY&&gsap.set(trigger.ownerSVGElement,{touchAction:vars.allowNativeTouchScrolling||vars.allowEventDefault?"manipulation":allowX?"pan-y":"pan-x"}),vars.allowContextMenu||_addListener(trigger,"contextmenu",onContextMenu);_setSelectable(triggers,!1)}return _addScrollListener(target,updateScroll),enabled=!0,InertiaPlugin&&type!=="soft"&&InertiaPlugin.track(scrollProxy||target,xyMode?"x,y":rotationMode?"rotation":"top,left"),target._gsDragID=id="d"+_lookupCount++,_lookup[id]=self,scrollProxy&&(scrollProxy.enable(),scrollProxy.element._gsDragID=id),(vars.bounds||rotationMode)&&recordStartPositions(),vars.bounds&&self.applyBounds(),self},_this2.disable=function(type){for(var trigger,dragging=self.isDragging,i=triggers.length;--i>-1;)_setStyle(triggers[i],"cursor",null);if(type!=="soft"){for(_setTouchActionForAllDescendants(triggers,null),i=triggers.length;--i>-1;)trigger=triggers[i],_setStyle(trigger,"touchCallout",null),_removeListener(trigger,"mousedown",onPress),_removeListener(trigger,"touchstart",onPress),_removeListener(trigger,"click",onClick,!0),_removeListener(trigger,"contextmenu",onContextMenu);_setSelectable(triggers,!0),touchEventTarget&&(_removeListener(touchEventTarget,"touchcancel",onRelease),_removeListener(touchEventTarget,"touchend",onRelease),_removeListener(touchEventTarget,"touchmove",onMove)),_removeListener(ownerDoc,"mouseup",onRelease),_removeListener(ownerDoc,"mousemove",onMove)}return _removeScrollListener(target,updateScroll),enabled=!1,InertiaPlugin&&type!=="soft"&&(InertiaPlugin.untrack(scrollProxy||target,xyMode?"x,y":rotationMode?"rotation":"top,left"),self.tween&&self.tween.kill()),scrollProxy&&scrollProxy.disable(),_removeFromRenderQueue(render),self.isDragging=self.isPressed=isClicking=!1,dragging&&_dispatchEvent(self,"dragend","onDragEnd"),self},_this2.enabled=function(value,type){return arguments.length?value?self.enable(type):self.disable(type):enabled},_this2.kill=function(){return self.isThrowing=!1,self.tween&&self.tween.kill(),self.disable(),gsap.set(triggers,{clearProps:"userSelect"}),delete _lookup[target._gsDragID],self},_this2.revert=function(){this.kill(),this.styles&&this.styles.revert()},~type.indexOf("scroll")&&(scrollProxy=_this2.scrollProxy=new ScrollProxy(target,_extend({onKill:function(){self.isPressed&&onRelease(null)}},vars)),target.style.overflowY=allowY&&!_isTouchDevice?"auto":"hidden",target.style.overflowX=allowX&&!_isTouchDevice?"auto":"hidden",target=scrollProxy.content),rotationMode?killProps.rotation=1:(allowX&&(killProps[xProp]=1),allowY&&(killProps[yProp]=1)),gsCache.force3D=!("force3D"in vars)||vars.force3D,_context(_assertThisInitialized(_this2)),_this2.enable(),_this2}return Draggable.register=function(core){gsap=core,_initCore()},Draggable.create=function(targets,vars){return _coreInitted||_initCore(!0),_toArray(targets).map(function(target){return new Draggable(target,vars)})},Draggable.get=function(target){return _lookup[(_toArray(target)[0]||{})._gsDragID]},Draggable.timeSinceDrag=function(){return(_getTime()-_lastDragTime)/1e3},Draggable.hitTest=function(obj1,obj2,threshold){if(obj1===obj2)return!1;var overlap,area,isRatio,r1=_parseRect(obj1),r2=_parseRect(obj2),top=r1.top,left=r1.left,right=r1.right,bottom=r1.bottom,width=r1.width,height=r1.height,isOutside=r2.left>right||r2.right<left||r2.top>bottom||r2.bottom<top;return isOutside||!threshold?!isOutside:(isRatio=(threshold+"").indexOf("%")!==-1,threshold=parseFloat(threshold)||0,overlap={left:Math.max(left,r2.left),top:Math.max(top,r2.top)},overlap.width=Math.min(right,r2.right)-overlap.left,overlap.height=Math.min(bottom,r2.bottom)-overlap.top,!(overlap.width<0||overlap.height<0)&&(isRatio?(threshold*=.01,area=overlap.width*overlap.height,area>=width*height*threshold||area>=r2.width*r2.height*threshold):overlap.width>threshold&&overlap.height>threshold))},Draggable}(EventDispatcher);_setDefaults(Draggable.prototype,{pointerX:0,pointerY:0,startX:0,startY:0,deltaX:0,deltaY:0,isDragging:!1,isPressed:!1}),Draggable.zIndex=1e3,Draggable.version="3.12.4",_getGSAP()&&gsap.registerPlugin(Draggable);export{Draggable as default}