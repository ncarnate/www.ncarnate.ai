const TAG="asset-",_EXT_PRELOAD_ATTRS={css:`crossorigin=anonymous as="style" type="text/css"`,js:`crossorigin=anonymous as="script" type="text/javascript"`,mjs:`crossorigin=anonymous as="script" type="text/javascript"`,html:`crossorigin=anonymous as="document"`,woff2:`crossorigin=anonymous as="font" type="font/woff2"`,woff:`crossorigin=anonymous as="font" type="font/woff"`,otf:`crossorigin=anonymous as="font" type="font/otf"`,ttf:`crossorigin=anonymous as="font" type="font/ttf"`},_EXT_HTML_TMPL={css(src,attrs){return`<link   crossorigin=anonymous rel="stylesheet" type="text/css" href="${src}" ${attrs} />`},js(src,attrs){return`<script crossorigin=anonymous src="${src}" ${attrs}><\/script>`},mjs(src,attrs){return`<script crossorigin=anonymous src="${src}" type="module" ${attrs}><\/script>`}},_head_html=[],_pre_src_set=new Set;export function flush_all(document,target){target||(target=document.head),_pre_src_set.clear();const els=Array.from(document.getElementsByTagName(TAG));for(const el of els)flush_el(el);_head_html.length&&target.insertAdjacentHTML("afterbegin",`
${_head_html.join(`
`)}
`)}function flush_el(el){let preload=el.getAttribute("preload-"),should_preload=el.hasAttribute("preload-")&&preload!=="false";if(el.hasAttribute("src-")){let src=el.getAttribute("src-").trim();should_preload&&_add_preload(src);let html=_el_src_html(el,src);html&&el.insertAdjacentHTML("beforebegin",html)}el.remove()}function _el_src_html(el,src){const keys=el.getAttributeNames();let ext=file_ext(src);const tmpl=_EXT_HTML_TMPL[ext];if(!tmpl)throw new Error(`asset- ERROR: src-=${src} doesnt have recognized html template`);let attrs="";for(const key of keys)if(!key.endsWith("-")){let val=el.getAttribute(key);attrs+=`${key}`,attrs+=val!==""?`="${val}" `:` `}return tmpl(src,attrs)}function _add_preload(src){if(src&&!_pre_src_set.has(src)){_pre_src_set.add(src);let ext=file_ext(src),attrs=_EXT_PRELOAD_ATTRS[ext];attrs&&_head_html.push(`<link rel="preload" href="${src}" ${attrs} />`)}}function file_ext(filename){const regex=/[^/\\]*\.([^./\\]+)$/,matches=regex.exec(filename);return matches&&matches[1]?matches[1]:""}